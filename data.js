function monthDiff(d1, d2) {
    var months;
    months = (d2.getFullYear() - d1.getFullYear()) * 12;
    months -= d1.getMonth() + 1;
    months += d2.getMonth();
    return months <= 0 ? 0 : months;
}

google.charts.load("current", { packages: ["corechart"] });
google.charts.setOnLoadCallback(() => {
  function drawChart_level_chart() {
    var options = {
      width: 800,
      height: 450,
      chartArea: { top: "10%", left: "15%", width: "75%", height: "60%" },
      interpolateNulls: true,
      series: [
        { color: "#372758", lineWidth: 2, pointSize: 3 },
        { color: "#E34891", lineWidth: 2, pointSize: 3 },
      ],
      vAxis: {
        minValue: 0,
        maxValue: 10000,
        viewWindowMode: "pretty",
        gridlines: { count: 6 },
        textStyle: { fontSize: 18 },
        scaleType: 'log',
      },
      hAxis: {
        slantedText: true,
        slantedTextAngle: 45,
        textStyle: { fontName: "Arial", fontSize: 18 },
        gridlines: { color: "none", count: 9 },
        minorGridlines: { color: "none", count: 0 },
      },
      titlePosition: "none",
      legend: { position: "none", textStyle: { fontSize: 18 } },
      tooltip: { isHtml: true },
      pointSize: 4.933910809542228,
      dataOpacity: 0.7,
      lineWidth: 3,
      curveType: "function",
    };
    var data = new google.visualization.DataTable();
    var players = new Object([
      {
        name: "jaanshere",
        dob: new Date("01 November 2010"),
        data: [
          [new Date(1675182600000), 1428],
          [new Date(1672552800000), 1247],
          [new Date(1669923000000), 1229],
          [new Date(1667293200000), 1302],
          [new Date(1664663400000), 1269],
          [new Date(1662033600000), 1062],
          [new Date(1659403800000), 991],
          [new Date(1656774000000), 994],
          [new Date(1654144200000), 901],
          [new Date(1651514400000), 801],
          [new Date(1648884600000), 637],
          [new Date(1646254800000), 527],
          [new Date(1643625000000), 462],
          [new Date(1640995200000), 362],
          [new Date(1638365400000), 304],
          [new Date(1635735600000), 297],
          [new Date(1633105800000), 280],
          [new Date(1630476000000), 228],
          [new Date(1625216400000), 201],
          [new Date(1601548200000), 193],
          [new Date(1583139600000), 184],
          [new Date(1580509800000), 160],
          [new Date(1577880000000), 164],
          [new Date(1572620400000), 146],
          [new Date(1569990600000), 120],
          [new Date(1567360800000), 106],
          [new Date(1562101200000), 105],
          [new Date(1551582000000), 102],
          [new Date(1548952200000), 87],
          [new Date(1527913800000), 64],
          [new Date(1525284000000), 59],
          [new Date(1522654200000), 61],
          [new Date(1517394600000), 61],
          [new Date(1512135000000), 58],
        ],
      },
      {
        name: "gabriel",
        dob: new Date("01 May 2009"),
        data: [
          [new Date(1675182600000), 4969],
          [new Date(1672552800000), 4707],
          [new Date(1669923000000), 4782],
          [new Date(1667293200000), 4318],
          [new Date(1664663400000), 4057],
          [new Date(1662033600000), 3875],
          [new Date(1659403800000), 3708],
          [new Date(1656774000000), 3305],
          [new Date(1654144200000), 3126],
          [new Date(1651514400000), 2888],
          [new Date(1648884600000), 2988],
          [new Date(1646254800000), 2796],
          [new Date(1643625000000), 2420],
          [new Date(1640995200000), 2240],
          [new Date(1638365400000), 1912],
          [new Date(1635735600000), 1338],
          [new Date(1633105800000), 889],
          [new Date(1625216400000), 793],
          [new Date(1601548200000), 772],
          [new Date(1583139600000), 813],
          [new Date(1580509800000), 724],
          [new Date(1577880000000), 709],
          [new Date(1575250200000), 702],
          [new Date(1572620400000), 669],
          [new Date(1569990600000), 560],
          [new Date(1564731000000), 548],
          [new Date(1562101200000), 539],
          [new Date(1559471400000), 535],
          [new Date(1556841600000), 482],
          [new Date(1554211800000), 432],
          [new Date(1551582000000), 394],
          [new Date(1548952200000), 321],
          [new Date(1546322400000), 272],
          [new Date(1543692600000), 263],
          [new Date(1541062800000), 207],
          [new Date(1538433000000), 193],
          [new Date(1535803200000), 181],
          [new Date(1533173400000), 175],
          [new Date(1527913800000), 192],
          [new Date(1525284000000), 187],
          [new Date(1520024400000), 179],
          [new Date(1517394600000), 196],
          [new Date(1512135000000), 214],
        ],
      },
      {
        name: "luke",
        dob: new Date("01 October 2009"),
        data: [
          [new Date(1675182600000), 5489],
          [new Date(1672552800000), 5204],
          [new Date(1669923000000), 4970],
          [new Date(1667293200000), 4493],
          [new Date(1664663400000), 4356],
          [new Date(1662033600000), 4324],
          [new Date(1659403800000), 3774],
          [new Date(1656774000000), 3565],
          [new Date(1654144200000), 3304],
          [new Date(1651514400000), 3196],
          [new Date(1648884600000), 2807],
          [new Date(1646254800000), 2308],
          [new Date(1643625000000), 2130],
          [new Date(1640995200000), 1980],
          [new Date(1638365400000), 1416],
          [new Date(1635735600000), 1118],
          [new Date(1633105800000), 1044],
          [new Date(1627846200000), 867],
          [new Date(1625216400000), 856],
          [new Date(1583139600000), 705],
          [new Date(1580509800000), 565],
          [new Date(1577880000000), 515],
          [new Date(1572620400000), 491],
          [new Date(1569990600000), 464],
          [new Date(1567360800000), 416],
          [new Date(1562101200000), 347],
          [new Date(1559471400000), 337],
          [new Date(1556841600000), 347],
          [new Date(1554211800000), 337],
          [new Date(1551582000000), 270],
          [new Date(1548952200000), 245],
          [new Date(1543692600000), 212],
          [new Date(1541062800000), 196],
          [new Date(1538433000000), 200],
          [new Date(1535803200000), 190],
          [new Date(1527913800000), 171],
          [new Date(1525284000000), 177],
          [new Date(1520024400000), 184],
          [new Date(1517394600000), 178],
          [new Date(1512135000000), 143],
          [new Date(1509505200000), 135],
          [new Date(1506875400000), 134],
          [new Date(1498986000000), 114],
          [new Date(1496356200000), 110],
          [new Date(1493726400000), 111],
          [new Date(1491096600000), 115],
          [new Date(1488466800000), 110],
          [new Date(1485837000000), 113],
          [new Date(1480577400000), 105],
          [new Date(1477947600000), 95],
          [new Date(1475317800000), 90],
          [new Date(1464798600000), 76],
          [new Date(1462168800000), 80],
          [new Date(1456909200000), 74],
          [new Date(1454279400000), 52],
          [new Date(1449019800000), 38],
          [new Date(1435870800000), 30],
          [new Date(1433241000000), 23],
        ],
      },
      {
        name: "jake",
        dob: new Date("01 February 2009"),
        data: [
          [new Date(1675182600000), 7284],
          [new Date(1672552800000), 6931],
          [new Date(1669923000000), 6620],
          [new Date(1667293200000), 6183],
          [new Date(1664663400000), 6185],
          [new Date(1662033600000), 6054],
          [new Date(1659403800000), 5849],
          [new Date(1656774000000), 6011],
          [new Date(1654144200000), 6020],
          [new Date(1651514400000), 5833],
          [new Date(1648884600000), 5281],
          [new Date(1646254800000), 4871],
          [new Date(1643625000000), 4162],
          [new Date(1640995200000), 3785],
          [new Date(1638365400000), 3059],
          [new Date(1635735600000), 2530],
          [new Date(1633105800000), 2212],
          [new Date(1625216400000), 1874],
          [new Date(1583139600000), 1994],
          [new Date(1580509800000), 2271],
          [new Date(1577880000000), 2122],
          [new Date(1575250200000), 1893],
          [new Date(1572620400000), 1582],
          [new Date(1569990600000), 1499],
          [new Date(1564731000000), 1565],
          [new Date(1562101200000), 1409],
          [new Date(1559471400000), 1244],
          [new Date(1556841600000), 1234],
          [new Date(1554211800000), 1286],
          [new Date(1551582000000), 1307],
          [new Date(1548952200000), 1238],
          [new Date(1546322400000), 1150],
          [new Date(1543692600000), 1036],
          [new Date(1541062800000), 1015],
          [new Date(1538433000000), 982],
          [new Date(1535803200000), 828],
          [new Date(1533173400000), 652],
          [new Date(1520024400000), 548],
          [new Date(1517394600000), 566],
          [new Date(1512135000000), 496],
          [new Date(1506875400000), 456],
          [new Date(1488466800000), 300],
          [new Date(1485837000000), 304],
          [new Date(1480577400000), 291],
        ],
      },
      {
        name: "ismail",
        dob: new Date("01 April 2008"),
        data: [
          [new Date(1675182600000), 7997],
          [new Date(1672552800000), 7944],
          [new Date(1669923000000), 7482],
          [new Date(1667293200000), 7247],
          [new Date(1664663400000), 6402],
          [new Date(1662033600000), 5839],
          [new Date(1659403800000), 5696],
          [new Date(1654144200000), 5164],
          [new Date(1651514400000), 4718],
          [new Date(1646254800000), 4462],
          [new Date(1643625000000), 4377],
          [new Date(1640995200000), 4468],
          [new Date(1638365400000), 3557],
          [new Date(1635735600000), 2817],
          [new Date(1633105800000), 2210],
          [new Date(1630476000000), 1945],
          [new Date(1625216400000), 1600],
          [new Date(1583139600000), 1435],
          [new Date(1580509800000), 1365],
          [new Date(1575250200000), 1389],
          [new Date(1572620400000), 1276],
          [new Date(1569990600000), 997],
          [new Date(1567360800000), 953],
          [new Date(1562101200000), 881],
          [new Date(1559471400000), 859],
          [new Date(1556841600000), 893],
          [new Date(1554211800000), 948],
          [new Date(1551582000000), 870],
          [new Date(1546322400000), 817],
          [new Date(1543692600000), 681],
          [new Date(1541062800000), 609],
          [new Date(1538433000000), 526],
          [new Date(1530543600000), 519],
          [new Date(1520024400000), 429],
          [new Date(1514764800000), 371],
          [new Date(1512135000000), 311],
          [new Date(1506875400000), 281],
          [new Date(1472688000000), 175],
        ],
      },
      {
        name: "ali",
        dob: new Date("01 April 2010"),
        data: [
          [new Date(1675182600000), 3136],
          [new Date(1672552800000), 3142],
          [new Date(1669923000000), 2663],
          [new Date(1667293200000), 2352],
          [new Date(1662033600000), 2138],
          [new Date(1656774000000), 2051],
          [new Date(1654144200000), 2055],
          [new Date(1651514400000), 1960],
          [new Date(1646254800000), 1705],
          [new Date(1643625000000), 1742],
          [new Date(1640995200000), 1589],
          [new Date(1638365400000), 1172],
          [new Date(1635735600000), 990],
          [new Date(1633105800000), 933],
          [new Date(1630476000000), 806],
          [new Date(1625216400000), 758],
          [new Date(1583139600000), 679],
          [new Date(1580509800000), 616],
          [new Date(1577880000000), 624],
          [new Date(1575250200000), 613],
          [new Date(1572620400000), 604],
          [new Date(1569990600000), 558],
          [new Date(1567360800000), 541],
          [new Date(1562101200000), 519],
          [new Date(1559471400000), 525],
          [new Date(1556841600000), 488],
          [new Date(1554211800000), 489],
          [new Date(1551582000000), 442],
          [new Date(1546322400000), 322],
          [new Date(1543692600000), 279],
          [new Date(1541062800000), 264],
          [new Date(1538433000000), 265],
          [new Date(1535803200000), 243],
          [new Date(1530543600000), 216],
          [new Date(1520024400000), 204],
          [new Date(1514764800000), 214],
          [new Date(1506875400000), 235],
          [new Date(1504245600000), 227],
          [new Date(1472688000000), 165],
        ],
      },
      {
        name: "zack",
        dob: new Date("01 April 2010"),
        data: [
          [new Date(1675182600000), 3157],
          [new Date(1672552800000), 2945],
          [new Date(1669923000000), 2665],
          [new Date(1667293200000), 2247],
          [new Date(1664663400000), 1998],
          [new Date(1662033600000), 2095],
          [new Date(1659403800000), 2022],
          [new Date(1656774000000), 1961],
          [new Date(1654144200000), 1699],
          [new Date(1651514400000), 1675],
          [new Date(1648884600000), 1651],
          [new Date(1646254800000), 1659],
          [new Date(1643625000000), 1593],
          [new Date(1640995200000), 1348],
          [new Date(1638365400000), 1167],
          [new Date(1635735600000), 977],
          [new Date(1633105800000), 937],
          [new Date(1627846200000), 954],
          [new Date(1583139600000), 929],
          [new Date(1580509800000), 988],
          [new Date(1577880000000), 879],
          [new Date(1575250200000), 880],
          [new Date(1572620400000), 825],
          [new Date(1569990600000), 729],
          [new Date(1564731000000), 694],
          [new Date(1559471400000), 656],
          [new Date(1556841600000), 662],
          [new Date(1554211800000), 676],
          [new Date(1551582000000), 577],
          [new Date(1548952200000), 490],
          [new Date(1546322400000), 448],
          [new Date(1543692600000), 407],
          [new Date(1541062800000), 370],
          [new Date(1538433000000), 356],
          [new Date(1533173400000), 340],
          [new Date(1527913800000), 338],
          [new Date(1525284000000), 355],
          [new Date(1522654200000), 317],
          [new Date(1520024400000), 263],
          [new Date(1517394600000), 225],
          [new Date(1512135000000), 240],
          [new Date(1506875400000), 210],
          [new Date(1491096600000), 135],
          [new Date(1488466800000), 128],
          [new Date(1485837000000), 91],
          [new Date(1483207200000), 68],
          [new Date(1477947600000), 59],
          [new Date(1464798600000), 52],
          [new Date(1449019800000), 59],
        ],
      },
      {
        name: "michael",
        dob: new Date("01 December 2006"),
        data: [
          [new Date(1675182600000), 8801],
          [new Date(1672552800000), 8799],
          [new Date(1669923000000), 8357],
          [new Date(1667293200000), 7921],
          [new Date(1664663400000), 7731],
          [new Date(1662033600000), 7157],
          [new Date(1659403800000), 7039],
          [new Date(1656774000000), 6300],
          [new Date(1654144200000), 5453],
          [new Date(1651514400000), 4958],
          [new Date(1648884600000), 4911],
          [new Date(1646254800000), 4905],
          [new Date(1643625000000), 4563],
          [new Date(1640995200000), 4277],
          [new Date(1638365400000), 3775],
          [new Date(1635735600000), 3566],
          [new Date(1633105800000), 3007],
          [new Date(1625216400000), 2184],
          [new Date(1601548200000), 1888],
          [new Date(1583139600000), 1852],
          [new Date(1580509800000), 1571],
          [new Date(1577880000000), 1579],
          [new Date(1575250200000), 1651],
          [new Date(1572620400000), 1772],
          [new Date(1569990600000), 1524],
          [new Date(1564731000000), 1358],
          [new Date(1562101200000), 1228],
          [new Date(1559471400000), 1245],
          [new Date(1556841600000), 1203],
          [new Date(1554211800000), 1109],
          [new Date(1551582000000), 1150],
          [new Date(1548952200000), 1152],
          [new Date(1546322400000), 1108],
          [new Date(1543692600000), 840],
          [new Date(1541062800000), 712],
          [new Date(1538433000000), 776],
          [new Date(1535803200000), 773],
          [new Date(1527913800000), 747],
          [new Date(1520024400000), 515],
          [new Date(1517394600000), 520],
          [new Date(1512135000000), 505],
          [new Date(1506875400000), 448],
          [new Date(1485837000000), 324],
          [new Date(1483207200000), 334],
          [new Date(1480577400000), 286],
          [new Date(1475317800000), 263],
          [new Date(1467428400000), 250],
          [new Date(1456909200000), 243],
          [new Date(1454279400000), 218],
          [new Date(1451649600000), 218],
          [new Date(1446390000000), 210],
          [new Date(1443760200000), 196],
        ],
      },
      {
        name: "ronnie",
        dob: new Date("01 February 2008"),
        data: [
          [new Date(1675182600000), 8585],
          [new Date(1672552800000), 8064],
          [new Date(1669923000000), 8152],
          [new Date(1667293200000), 8715],
          [new Date(1664663400000), 8478],
          [new Date(1662033600000), 8316],
          [new Date(1659403800000), 7996],
          [new Date(1656774000000), 6523],
          [new Date(1654144200000), 5829],
          [new Date(1651514400000), 5733],
          [new Date(1648884600000), 5425],
          [new Date(1646254800000), 5460],
          [new Date(1643625000000), 5200],
          [new Date(1640995200000), 4681],
          [new Date(1638365400000), 3748],
          [new Date(1635735600000), 3599],
          [new Date(1633105800000), 3297],
          [new Date(1630476000000), 2977],
          [new Date(1627846200000), 2472],
          [new Date(1625216400000), 2219],
          [new Date(1622586600000), 2109],
          [new Date(1583139600000), 2110],
          [new Date(1580509800000), 2109],
          [new Date(1577880000000), 1975],
          [new Date(1572620400000), 1937],
          [new Date(1569990600000), 1699],
          [new Date(1567360800000), 1536],
          [new Date(1564731000000), 1581],
          [new Date(1562101200000), 1644],
          [new Date(1559471400000), 1676],
          [new Date(1556841600000), 1686],
          [new Date(1554211800000), 1748],
          [new Date(1551582000000), 1547],
          [new Date(1548952200000), 1533],
          [new Date(1546322400000), 1528],
          [new Date(1543692600000), 1571],
          [new Date(1541062800000), 1472],
          [new Date(1538433000000), 1246],
          [new Date(1535803200000), 1226],
          [new Date(1533173400000), 1234],
          [new Date(1530543600000), 1232],
          [new Date(1525284000000), 1323],
          [new Date(1520024400000), 1095],
          [new Date(1517394600000), 1019],
          [new Date(1514764800000), 964],
          [new Date(1512135000000), 821],
          [new Date(1509505200000), 795],
          [new Date(1506875400000), 660],
          [new Date(1504245600000), 536],
          [new Date(1496356200000), 511],
          [new Date(1493726400000), 504],
          [new Date(1491096600000), 475],
          [new Date(1488466800000), 464],
          [new Date(1485837000000), 441],
          [new Date(1483207200000), 424],
          [new Date(1477947600000), 414],
          [new Date(1475317800000), 404],
          [new Date(1467428400000), 390],
          [new Date(1464798600000), 367],
          [new Date(1459539000000), 379],
          [new Date(1456909200000), 382],
          [new Date(1446390000000), 368],
          [new Date(1443760200000), 381],
          [new Date(1441130400000), 392],
          [new Date(1433241000000), 385],
          [new Date(1430611200000), 383],
          [new Date(1425351600000), 370],
        ],
      },
    ]);
    data.addColumn("number", "Months");
    for (var idx in players) {
      data.addColumn("number", players[idx].name);
    }
    //data.addColumn({'type': 'string', 'role': 'tooltip', 'p': {'html': true}});
    for (var pidx in players) {
      for (var idx in players[pidx].data) {
        var datum = new Array(players.length + 1);
        datum[0] = monthDiff(players[pidx].dob, players[pidx].data[idx][0]);
        for (var i = 1; i < datum.length; i++) datum[i] = null;
        datum[parseInt(pidx, 10) + 1] = players[pidx].data[idx][1];
        data.addRow(datum);
      }
    }
    var chart = new google.visualization.LineChart(
      document.getElementById("level_chart")
    );
    chart.draw(data, options);
  }
  if (document.getElementById("level_chart")) {
    drawChart_level_chart();
  }
});
